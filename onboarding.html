<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BiosSTORE | Terminal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;500;700;800&display=swap');
        
        :root { --lime: #D9FF00; --blue: #0047FF; --yellow: #FFD600; }

        body { 
            font-family: 'Space Grotesk', sans-serif; 
            background: #000; color: #fff; overflow-x: hidden; min-height: 100vh;
            display: flex; align-items: center; justify-content: center;
        }

        .core-glow {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 100vw; height: 100vw; max-width: 800px;
            background: radial-gradient(circle, rgba(0,71,255,0.12) 0%, transparent 70%);
            z-index: -1; animation: pulseCore 6s infinite ease-in-out;
        }
        @keyframes pulseCore { 0%, 100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); } 50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.3); } }

        /* --- ATM CARD ARCHITECTURE --- */
        .atm-card {
            background: linear-gradient(145deg, rgba(255,255,255,0.08), rgba(255,255,255,0.01));
            border: 1px solid rgba(255,255,255,0.1); border-radius: 28px; 
            padding: 30px; 
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); cursor: pointer;
            backdrop-filter: blur(20px); display: flex; flex-direction: column;
            position: relative;
        }
        .atm-card:hover:not(.locked) {
            transform: translateY(-12px) rotateX(10deg) rotateY(-5deg); border-color: var(--lime);
            box-shadow: 0 40px 80px rgba(0,0,0,0.8), 0 0 30px rgba(217, 255, 0, 0.1);
        }

        /* LOCKED STATE (Restored 3x3) */
        .locked { border-color: rgba(255, 214, 0, 0.1); opacity: 0.4; cursor: not-allowed; filter: grayscale(1); }
        .locked-tag { font-size: 8px; font-weight: 900; background: var(--yellow); color: #000; padding: 3px 10px; border-radius: 4px; position: absolute; top: 20px; right: 20px; }

        .step-view { display: none; width: 100%; max-width: 1200px; margin: 0 auto; padding: 20px; }
        .step-view.active { display: block; animation: slideIn 0.5s ease-out forwards; }
        @keyframes slideIn { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .cyber-input {
            width: 100%; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.1);
            padding: 20px; border-radius: 18px; color: #fff; outline: none; transition: 0.3s;
        }
        .cyber-input:focus { border-color: var(--blue); background: rgba(255,255,255,0.1); }

        /* FEATURE LIST (For Mega Plans) */
        .feature-item { font-size: 14px; color: rgba(255,255,255,0.6); display: flex; align-items: center; gap: 12px; margin-bottom: 10px; }
        .feature-item i { color: var(--lime); }
        
        #sync-overlay {
            display: none; position: fixed; inset: 0; background: #000; z-index: 9999;
            flex-direction: column; align-items: center; justify-content: center;
        }
    </style>
</head>
<body class="p-4">

    <div id="sync-overlay">
        <div class="w-16 h-16 border-4 border-lime border-t-transparent rounded-full animate-spin mb-6"></div>
        <h2 class="text-lime font-bold tracking-[0.5em] uppercase text-xs">Directing to Core...</h2>
    </div>

    <div class="core-glow"></div>

    <div id="step-1" class="step-view active">
        <div class="text-center mb-12">
            <h1 class="text-5xl md:text-7xl font-black tracking-tighter uppercase italic">Initialize <span class="text-lime">Sector</span></h1>
            <p class="text-white/30 text-[10px] uppercase tracking-[0.4em] mt-4">Select operational module to begin</p>
        </div>
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
            <div class="atm-card" onclick="next(2, 'SELLER')">
                <div class="w-10 h-6 bg-white/10 rounded-md mb-8"></div>
                <i class="fa-solid fa-shop text-4xl mb-4 text-lime"></i>
                <h3 class="text-2xl font-black uppercase italic">Seller</h3>
                <p class="text-[9px] opacity-40 uppercase tracking-widest mt-auto">Hardware: Active</p>
            </div>
            <div class="atm-card" onclick="next(2, 'KITCHEN')">
                <div class="w-10 h-6 bg-white/10 rounded-md mb-8"></div>
                <i class="fa-solid fa-fire-burner text-4xl mb-4 text-lime"></i>
                <h3 class="text-2xl font-black uppercase italic">Kitchen</h3>
                <p class="text-[9px] opacity-40 uppercase tracking-widest mt-auto">Hardware: Active</p>
            </div>
            <div class="atm-card" onclick="next(2, 'EVENTS')">
                <div class="w-10 h-6 bg-white/10 rounded-md mb-8"></div>
                <i class="fa-solid fa-ticket text-4xl mb-4 text-lime"></i>
                <h3 class="text-2xl font-black uppercase italic">Events</h3>
                <p class="text-[9px] opacity-40 uppercase tracking-widest mt-auto">Hardware: Active</p>
            </div>
            <div class="atm-card locked">
                <span class="locked-tag">COMING SOON</span>
                <div class="w-10 h-6 bg-white/5 rounded-md mb-8"></div>
                <i class="fa-solid fa-wand-magic-sparkles text-4xl mb-4 text-yellow-500"></i>
                <h3 class="text-2xl font-black uppercase italic">Creators</h3>
            </div>
            <div class="atm-card locked">
                <span class="locked-tag">COMING SOON</span>
                <div class="w-10 h-6 bg-white/5 rounded-md mb-8"></div>
                <i class="fa-solid fa-user-tie text-4xl mb-4 text-yellow-500"></i>
                <h3 class="text-2xl font-black uppercase italic">Consultants</h3>
            </div>
            <div class="atm-card locked">
                <span class="locked-tag">COMING SOON</span>
                <div class="w-10 h-6 bg-white/5 rounded-md mb-8"></div>
                <i class="fa-solid fa- screwdriver-wrench text-4xl mb-4 text-yellow-500"></i>
                <h3 class="text-2xl font-black uppercase italic">Services</h3>
            </div>
        </div>
    </div>

    <div id="step-2" class="step-view max-w-xl">
        <h2 class="text-4xl font-black mb-10 italic uppercase text-blue-500">Verify <span class="text-white">ID</span></h2>
        <div class="space-y-6">
            <input type="text" id="handle" class="cyber-input text-3xl font-bold uppercase" placeholder="STORE NAME" oninput="checkName(this.value)">
            <div id="feedback" class="h-6 font-bold text-[10px] tracking-[0.2em] uppercase"></div>
            <button id="btn2" class="w-full bg-white text-black py-6 rounded-2xl font-black uppercase text-lg opacity-20 pointer-events-none" onclick="next(3)">Sync Identity</button>
        </div>
    </div>

    <div id="step-3" class="step-view">
        <h2 class="text-4xl font-black mb-12 italic uppercase text-lime">Merchant <span class="text-white">Specs</span></h2>
        <div class="grid grid-cols-1 lg:grid-cols-12 gap-10">
            <div class="lg:col-span-4 flex justify-center">
                <div class="w-44 h-44 rounded-full border-4 border-dashed border-white/10 flex flex-col items-center justify-center hover:border-lime cursor-pointer bg-white/5">
                    <i class="fa-solid fa-plus text-2xl"></i>
                    <span class="text-[9px] mt-2 font-black uppercase">Brand Logo</span>
                </div>
            </div>
            <div class="lg:col-span-8 space-y-6">
                <input type="text" id="final-name" class="cyber-input font-black text-blue-500" readonly>
                <textarea id="desc" class="cyber-input h-32" placeholder="DESCRIPTION (What do you sell?)"></textarea>
                <textarea id="addr" class="cyber-input h-32" placeholder="OFFICIAL ADDRESS (For Shipping/Invoicing)"></textarea>
                <button class="w-full bg-blue-600 py-6 rounded-2xl font-black uppercase text-lg" onclick="next(4)">Choose Tier</button>
            </div>
        </div>
    </div>

    <div id="step-4" class="step-view">
        <div class="text-center mb-16">
            <h1 class="text-5xl md:text-7xl font-black tracking-tighter uppercase italic text-lime">Choose <span class="text-white">Plan</span></h1>
        </div>
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-10">
            <div class="atm-card border-white/10 min-h-[550px]" onclick="saveToFirebase('FREE')">
                <div class="mb-10">
                    <h3 class="text-4xl font-black mb-2 uppercase italic text-white/40">Free</h3>
                    <div class="text-7xl font-black">₹0</div>
                </div>
                <div class="space-y-4 mb-10 border-t border-white/10 pt-8">
                    <div class="feature-item"><i class="fa-solid fa-check"></i> 5 Product Listings</div>
                    <div class="feature-item"><i class="fa-solid fa-check"></i> 5% Transaction Fee</div>
                    <div class="feature-item opacity-20"><i class="fa-solid fa-xmark"></i> No Custom Domain</div>
                </div>
                <button class="w-full py-5 rounded-2xl border border-white/20 font-black uppercase text-xs mt-auto">Select Basic</button>
            </div>
            <div class="atm-card border-blue-600 bg-blue-600/10 min-h-[550px] scale-105 shadow-[0_0_60px_rgba(0,71,255,0.2)]" onclick="saveToFirebase('BASIC')">
                <div class="mb-10">
                    <h3 class="text-4xl font-black mb-2 uppercase italic text-blue-400">Basic</h3>
                    <div class="text-7xl font-black">₹999</div>
                </div>
                <div class="space-y-4 mb-10 border-t border-white/10 pt-8">
                    <div class="feature-item"><i class="fa-solid fa-check"></i> Unlimited Listings</div>
                    <div class="feature-item"><i class="fa-solid fa-check"></i> 2% Transaction Fee</div>
                    <div class="feature-item"><i class="fa-solid fa-check"></i> Growth Dashboard</div>
                </div>
                <button class="w-full py-5 rounded-2xl bg-blue-600 font-black uppercase text-xs mt-auto">Select Growth</button>
            </div>
            <div class="atm-card border-lime min-h-[550px]" onclick="saveToFirebase('ELITE')">
                <div class="mb-10">
                    <h3 class="text-4xl font-black mb-2 uppercase italic text-lime">Elite</h3>
                    <div class="text-7xl font-black">₹2499</div>
                </div>
                <div class="space-y-4 mb-10 border-t border-white/10 pt-8">
                    <div class="feature-item"><i class="fa-solid fa-check"></i> 0% Commission</div>
                    <div class="feature-item"><i class="fa-solid fa-check"></i> Custom .shop Domain</div>
                    <div class="feature-item"><i class="fa-solid fa-check"></i> Priority Payouts</div>
                </div>
                <button class="w-full py-5 rounded-2xl bg-lime text-black font-black uppercase text-xs mt-auto">Select Elite</button>
            </div>
        </div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyDMm_iqFWeU_jv_y-tHhRA-lZhy5PosQnI",
            authDomain: "seller-bio.firebaseapp.com",
            projectId: "seller-bio",
            storageBucket: "seller-bio.firebasestorage.app",
            messagingSenderId: "319004958530",
            appId: "1:319004958530:web:6ba52f7ec5cb06e34872db"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        let merchantData = { sector: '', storeName: '', description: '', address: '', plan: '' };

        window.next = (num, type = '') => {
            if(type) merchantData.sector = type;
            document.querySelectorAll('.step-view').forEach(s => s.classList.remove('active'));
            document.getElementById('step-' + num).classList.add('active');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        window.checkName = (val) => {
            const fb = document.getElementById('feedback');
            const btn = document.getElementById('btn2');
            const name = val.toLowerCase().replace(/[^a-z0-9]/g, '');
            if(name.length < 3) { fb.innerText = ""; btn.style.opacity = "0.2"; return; }
            fb.innerText = "STORE ID AVAILABLE"; fb.style.color = "#D9FF00";
            btn.style.opacity = "1"; btn.style.pointerEvents = "auto";
            document.getElementById('final-name').value = "@" + name;
            merchantData.storeName = name;
        };

        window.saveToFirebase = async (plan) => {
            merchantData.plan = plan;
            merchantData.description = document.getElementById('desc').value;
            merchantData.address = document.getElementById('addr').value;
            document.getElementById('sync-overlay').style.display = 'flex';
            try {
                await setDoc(doc(db, "merchants", merchantData.storeName), merchantData);
                setTimeout(() => { window.location.href = 'dashboard.html'; }, 2000);
            } catch (e) {
                console.error(e);
                document.getElementById('sync-overlay').style.display = 'none';
            }
        };
    </script>
</body>
</html>
